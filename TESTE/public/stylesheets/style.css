/* --- DEFINIÇÕES DE CORES BASE (TEMA PADRÃO) --- */
*,
*::before,
*::after {
  box-sizing: border-box;
}
:root {
  --background-primary: #36393f;
  --background-secondary: #2f3136;
  --background-tertiary: #202225;
  --header-primary: #fff;
  --text-normal: #dcddde;
  --text-muted: #72767d;
  --brand-experiment: #660080;
  --brand-hover: #572364;
  --purple-accent: #cc00ff;
  --green-accent: #43b581;
  --red-danger: #f04747;
  --red-danger-hover: #d84040;
  --chat-bubble-sent: #5865f2;
}

/* --- DEFINIÇÕES DOS TEMAS ESPECÍFICOS --- */
.theme-1 {
  --brand-experiment: #540b70;
  --purple-accent: #cc00ff;
}
.theme-2 {
  --background-primary: #2c3e50;
  --background-secondary: #34495e;
  --background-tertiary: #23303e;
  --header-primary: #ecf0f1;
  --text-normal: #bdc3c7;
  --text-muted: #95a5a6;
  --brand-experiment: #3498db;
  --brand-hover: #2980b9;
  --purple-accent: #5dade2;
  --green-accent: #2ecc71;
  --red-danger: #e74c3c;
  --chat-bubble-sent: #3498db;
}
.theme-3 {
  --background-primary: #2e403f;
  --background-secondary: #3a4e4e;
  --background-tertiary: #253332;
  --header-primary: #f0fff0;
  --text-normal: #d4edda;
  --text-muted: #a8d1b1;
  --brand-experiment: #28a745;
  --brand-hover: #218838;
  --green-accent: #00bc8c;
}
.theme-4 {
  --background-primary: #242526;
  --background-secondary: #18191a;
  --background-tertiary: #0d0d0d;
  --header-primary: #e4e6eb;
  --text-normal: #b0b3b8;
  --text-muted: #65676b;
  --brand-experiment: #3498db;
  --brand-hover: #2980b9;
  --purple-accent: #5dade2;
  --chat-bubble-sent: #3498db;
}
.theme-5 {
  --background-primary: #f0f2f5;
  --background-secondary: #ffffff;
  --background-tertiary: #e9ecef;
  --header-primary: #1c1e21;
  --text-normal: #050505;
  --text-muted: #65676b;
  --brand-experiment: #0d6efd;
  --brand-hover: #0a58ca;
  --purple-accent: #0d6efd;
  --chat-bubble-sent: #0d6efd;
}

/* --- ESTILOS GLOBAIS --- */
*,
*::before,
*::after {
  box-sizing: border-box;
}
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif;
  margin: 0;
  overflow: hidden;
  color: var(--text-normal);
  background-color: var(--background-primary);
}
.auth-layout {
  display: flex;
  height: 100vh;
  width: 100%;
  justify-content: center;
  align-items: center;
  background-size: cover;
  background-position: center;
}

/* --- ESTILOS DO DASHBOARD --- */
.dashboard-layout {
  display: flex;
  height: 100vh;
}
.server-list {
  width: 72px;
  background-color: var(--background-tertiary);
  padding: 12px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
  overflow-y: auto;
}
.server-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background-color: var(--background-primary);
  margin-bottom: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: border-radius 0.3s, background-color 0.3s;
}
.server-icon:hover,
.server-icon.active {
  border-radius: 16px;
  background-color: var(--brand-experiment);
}
.server-icon img {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  object-fit: cover;
}
.divider {
  height: 2px;
  width: 32px;
  background-color: var(--background-secondary);
  margin: 8px 0;
}
.profile-icon-container {
  margin-top: auto;
}
.profile-icon {
  border: 2px solid var(--text-muted);
}
.profile-icon:hover {
  border-color: var(--purple-accent);
}
.channel-list {
  width: 260px;
  background-color: var(--background-secondary);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}
.channel-header {
  padding: 12px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
  font-weight: bold;
  color: var(--header-primary);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#group-settings-icon {
  color: var(--text-muted);
  cursor: pointer;
  display: none;
}
#group-settings-icon:hover {
  color: var(--header-primary);
}
.channel-list-content {
  padding: 12px;
  flex-grow: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
.channel-list-header {
  color: var(--text-muted);
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 10px;
  text-transform: uppercase;
}
.friend-item {
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 4px;
  cursor: pointer;
  gap: 8px;
}
.group-member-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px;
    border-radius: 4px;
}
.friend-item:hover {
  background-color: rgba(255, 255, 255, 0.04);
}
.friend-item img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
}
.admin-icon {
  color: #f1c40f;
  font-size: 10px;
}
.friend-request-item {
  background-color: var(--background-tertiary);
  padding: 8px;
  border-radius: 4px;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.request-actions {
  display: flex;
  gap: 10px;
}
.request-actions button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 20px;
}
.accept-btn {
  color: var(--green-accent);
}
.reject-btn,
.cancel-request-btn {
  color: var(--red-danger);
}
.user-panel {
  background-color: var(--background-tertiary);
  padding: 12px;
  display: flex;
  align-items: center;
}
.user-panel img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  margin-right: 8px;
}
.user-panel .username {
  font-weight: bold;
}
.chat-area {
  flex-grow: 1;
  background-color: var(--background-primary);
  display: flex;
  flex-direction: column;
}
.chat-header {
  padding: 12px 16px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
  font-weight: bold;
  color: var(--header-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}
.chat-header h3 {
  margin: 0;
  font-size: 16px;
  display: inline;
}
.chat-header .group-id {
  color: var(--text-muted);
  font-size: 12px;
}
.chat-messages {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 16px;
  overflow-y: auto;
  gap: 1rem;
}
.message-item {
    display: flex;
    gap: 16px;
    max-width: 90%; /* Aumenta um pouco o espaço para mensagens */
    align-items: flex-start; /* Alinha a imagem de perfil com o topo da mensagem */
}

.message-item img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    flex-shrink: 0;
}

.message-content {
    display: flex;
    flex-direction: column;
    /* CORREÇÃO: Permite que o contêiner encolha e não transborde */
    min-width: 0;
}

.author-name {
    font-weight: bold;
    color: var(--header-primary);
    margin-bottom: 4px;
}

.message-text {
    color: var(--text-normal);
    line-height: 1.4;
    
    /* --- CORREÇÃO PRINCIPAL --- */
    /* Garante que textos longos (como código ou links) quebrem a linha */
    overflow-wrap: break-word;
    word-wrap: break-word;     /* Fallback para navegadores antigos */
    word-break: break-all;     /* Força a quebra em qualquer ponto se necessário */
}

.message-item.sent {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.message-item.sent .message-content {
    background-color: var(--chat-bubble-sent);
    padding: 8px 12px;
    border-radius: 12px 12px 0 12px;
}

/* Garante que o texto da mensagem enviada também quebre corretamente */
.message-item.sent .message-text {
    color: white; 
}
.chat-input-bar {
  padding: 0 16px 24px 16px;
  background-color: var(--background-primary);
  display: flex;
  /* ALTERADO: A barra principal agora organiza os itens em coluna */
  flex-direction: column;
}

/* --- NOVO ESTILO ADICIONADO --- */
/* Este contêiner alinha o botão e o input lado a lado */
.input-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
}

.mention-ai-btn {
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 20px;
  cursor: pointer;
  padding: 8px;
  flex-shrink: 0; /* Impede que o botão seja espremido */
}

.mention-ai-btn:hover {
  color: var(--header-primary);
}


.chat-input-bar input {
  flex-grow: 1; /* O input ocupa o espaço restante */
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  background-color: var(--background-secondary);
  color: var(--text-normal);
  transition: border-radius 0.1s ease-in-out;
}
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
.modal-content {
  background-color: var(--background-secondary);
  padding: 24px;
  border-radius: 8px;
  width: 90%;
  max-width: 440px;
  display: flex;
  flex-direction: column;
}
.modal-content.large {
  max-width: 520px;
  height: 70vh;
}
.modal-content h3 {
  text-align: center;
  margin-top: 0;
  text-align: left; 
  font-size: 20px; 
  line-height: 24px; 
  margin-bottom: 20px;
}
.modal-content p {
  text-align: left;
  font-size: 16px;
  color: var(--text-normal);
  margin-bottom: 20px;
}
.modal-content label {
  font-weight: bold;
  color: var(--text-muted);
  font-size: 12px;
  display: block;
  margin-bottom: 8px;
}
.modal-content input[type="text"],
.modal-content input[type="file"],
.modal-content input[type="search"] {
  width: 100%;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid var(--background-tertiary);
  background-color: var(--background-tertiary);
  color: var(--text-normal);
  margin-bottom: 20px;
}
.checkbox-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
}
.checkbox-container label {
  margin: 0;
  font-size: 14px;
  color: var(--text-normal);
}
.modal-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: auto;
  margin-top: 20px;
  justify-content: flex-end;
}

.modal-actions button {
  padding: 10px 24px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
}
.cancel-btn {
  background: none;
  color: var(--header-primary);
}
.submit-btn,
.join-btn,
.add-friend-btn {
  background-color: var(--brand-experiment);
  color: white;
}
.delete-btn {
  background-color: var(--red-danger);
  color: white;
}
.modal-actions .cancel-btn {
  background: none;
  color: var(--header-primary);
  margin-right: 10px;
}
.modal-actions .delete-btn {
  background-color: var(--red-danger);
  color: white;
}
.modal-actions .delete-btn:hover {
  background-color: var(--red-danger-hover);
}
#search-results,
.friend-requests-container {
  flex-grow: 1;
  overflow-y: auto;
  margin-top: 10px;
}
.search-result-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px;
  border-radius: 4px;
  margin-bottom: 8px;
  background-color: var(--background-primary);
}
.search-result-info {
  display: flex;
  align-items: center;
  gap: 10px;
}
.search-result-info img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}
.search-result-name .group-id-search {
  color: var(--text-muted);
  font-size: 12px;
}
.friends-nav {
  display: flex;
  padding: 12px;
  gap: 8px;
  border-bottom: 1px solid var(--background-tertiary);
}
.friends-nav-btn {
  flex: 1;
  background: var(--background-secondary);
  border: none;
  color: var(--text-normal);
  padding: 8px 5px;
  cursor: pointer;
  border-radius: 4px;
  font-size: 14px;
  text-align: center;
}
.friends-nav-btn.active {
  background-color: var(--brand-experiment);
}
.add-friend-container {
  padding: 0;
}
.add-friend-container p {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 0;
  margin-bottom: 10px;
}
.add-friend-input {
  display: flex;
  width: 100%;
}
.add-friend-input input {
  flex-grow: 1;
  width: 1%;
  min-width: 0;
  border: 1px solid var(--background-tertiary);
  background-color: var(--background-tertiary);
  color: var(--text-normal);
  padding: 8px;
  border-radius: 3px 0 0 3px;
  border-right: none;
}
.add-friend-input button {
  flex-shrink: 0;
  white-space: nowrap;
  border-radius: 0 3px 3px 0;
  background-color: var(--brand-experiment);
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: bold;
}
.tab-content {
  display: none;
}
.tab-content.active {
  display: flex;
  flex-direction: column;
  height: 100%;
  flex-grow: 1;
}
/* --- ESTILOS DE FEEDBACK (PARA LOGIN, CADASTRO, ETC.) --- */
.feedback-message {
  padding: 15px;
  margin-bottom: 20px;
  border-radius: 5px;
  /* Usando a cor de fundo secundária do seu tema */
  background-color: var(--background-secondary);
  /* Borda lateral de 4px para indicar o status */
  border-left: 4px solid;
  text-align: left; /* Alinhamento mais comum para este tipo de caixa */
  color: var(--text-normal); /* Cor de texto padrão do tema */
}

.feedback-message p {
  margin: 0;
  font-weight: 500;
}

.feedback-message.success {
  /* Cor da borda verde para sucesso */
  border-left-color: var(--green-accent);
}

.feedback-message.error {
  /* Cor da borda vermelha para erro */
  border-left-color: var(--red-danger);
}

.message-item {
  position: relative;
  align-items: center; /* Alinha melhor o botão */
}

.delete-message-btn {
  color: var(--text-muted);
  cursor: pointer;
  margin-left: 10px;
  visibility: hidden; /* Fica oculto por padrão */
  font-size: 14px;
}

.message-item:hover .delete-message-btn {
  visibility: visible; /* Aparece ao passar o mouse */
}

.delete-message-btn:hover {
  color: var(--red-danger);
}

.message-item {
  position: relative;
  display: flex; /* Garante alinhamento correto */
}

.message-actions {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-left: 10px;
  visibility: hidden; /* Oculto por padrão */
}

.message-item:hover .message-actions {
  visibility: visible; /* Aparece ao passar o mouse */
}

.message-actions i {
  cursor: pointer;
  color: var(--text-muted);
  font-size: 14px;
}

.message-actions i:hover {
  color: var(--header-primary);
}

.reply-context {
  background-color: rgba(0, 0, 0, 0.1);
  border-left: 3px solid var(--purple-accent);
  padding: 6px 8px;
  margin-bottom: 6px;
  border-radius: 4px;
  font-size: 14px;
}

.reply-author {
  font-weight: bold;
  color: var(--purple-accent);
}

.reply-content {
  margin: 0;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 300px;
}

/* Barra de resposta acima do input */
#reply-bar {
  background-color: var(--background-tertiary);
  padding: 8px 12px;
  border-radius: 8px 8px 0 0;
  border-bottom: 1px solid var(--background-primary);
  display: flex; /* Mantém como flex para alinhar os itens */
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
  color: var(--text-muted);
}

#reply-bar-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  /* CORREÇÃO: Adicionado para controlar o comportamento flex */
  flex-grow: 1; /* Permite que o texto ocupe o espaço disponível */
  min-width: 0; /* Impede que o elemento de texto empurre o layout */
}

#cancel-reply-btn {
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 20px;
  cursor: pointer;
  padding: 0 5px;
  /* CORREÇÃO: Adicionado para garantir que o botão não seja espremido */
  flex-shrink: 0;
}
#cancel-reply-btn:hover {
  color: var(--header-primary);
}

/* Ajuste no input quando a barra de resposta está visível */
.chat-input-bar > input {
  border-radius: 8px; /* Mantém o arredondamento geral */
}

/* CORREÇÃO: Seletor ajustado para funcionar com a estrutura HTML correta */
#reply-bar + input {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

/* Para telas de tablets e dispositivos menores (até 768px) */
@media (max-width: 768px) {
  .dashboard-layout {
    /* Muda o layout para que os painéis não fiquem lado a lado */
    position: relative;
    overflow-x: hidden; /* Previne scroll horizontal */
  }

  .server-list {
    /* Mantém a lista de servidores visível, mas um pouco menor */
    width: 60px;
    z-index: 3;
  }
  .server-icon {
    width: 40px;
    height: 40px;
  }

  .channel-list {
    /* O painel de canais/amigos ficará escondido por padrão */
    position: absolute;
    left: -100%; /* Começa fora da tela */
    top: 0;
    height: 100%;
    width: 260px;
    z-index: 2;
    transition: left 0.3s ease-in-out;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
  }

  /* Classe a ser adicionada via JS para mostrar o painel */
  .channel-list.open {
    left: 60px; /* Aparece ao lado da lista de servidores */
  }

  .chat-area {
    width: 100%; /* Ocupa toda a largura */
  }

  .chat-header h3 {
    font-size: 14px;
  }

  .message-item {
    max-width: 90%;
  }

  .modal-content {
    width: 95%;
    padding: 16px;
  }
}

/* Para telas de celulares (até 480px) */
@media (max-width: 480px) {
  .server-list {
    /* Oculta a barra de servidores por padrão no celular */
    position: absolute;
    left: -100%;
    height: 100%;
    z-index: 4;
    transition: left 0.3s ease-in-out;
  }

  .server-list.open {
    left: 0;
  }

  .channel-list.open {
    left: 0;
    width: 85%; /* Ocupa mais espaço quando aberto */
  }

  .chat-header::before {
    /* O menu no celular vai abrir o painel de servidores */
    content: "\f0c9";
  }

  /* Ajusta o painel de usuário para caber melhor */
  .user-panel {
    padding: 8px;
  }
  .user-panel .username {
    display: none; /* Esconde o nome de usuário para economizar espaço */
  }
  .user-panel img {
    margin-right: 0;
  }

  .chat-input-bar {
    padding: 0 10px 15px 10px;
  }
}
/* Esconde o botão do menu em telas grandes por padrão */
.mobile-menu-btn {
    display: none;
}

/* Telas de tablets e dispositivos menores (até 768px) */
@media (max-width: 768px) {
    .dashboard-layout {
        overflow-x: hidden; /* Previne scroll horizontal acidental */
    }

    /* Mostra o botão do menu e o estiliza */
    .mobile-menu-btn {
        display: inline-block;
        background: none;
        border: none;
        color: var(--header-primary);
        font-size: 24px;
        cursor: pointer;
        padding: 0;
        margin-right: 15px;
        line-height: 1; /* Alinha o ícone verticalmente */
    }

    .channel-list {
        position: fixed; /* Usa 'fixed' para ficar sobre todo o conteúdo */
        left: -100%;
        top: 0;
        height: 100%;
        width: 280px; /* Largura do painel */
        z-index: 1001; /* Garante que fique acima de outros elementos */
        transition: left 0.3s ease-in-out;
        box-shadow: 2px 0 10px rgba(0,0,0,0.5);
    }
    
    /* Classe para mostrar o painel */
    .channel-list.open {
        left: 0;
    }
}

/* Telas de telemóveis (até 480px) */
@media (max-width: 480px) {
    .server-list {
       position: fixed;
       left: -100%;
       height: 100%;
       width: 72px;
       z-index: 1002; /* Z-index maior para ficar sobre o painel de canais */
       transition: left 0.3s ease-in-out;
    }
    
    .server-list.open {
        left: 0;
    }

    /* Em mobile, o painel de canais também desliza da esquerda */
    .channel-list.open {
        left: 0;
        width: 85%; /* Ocupa a maior parte da tela */
    }
}/* --- ESTILOS PARA A VISUALIZAÇÃO DE AMIGOS --- */
.chat-area.friends-view-active .chat-messages {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  height: 100%;
  color: var(--text-muted);
  background-size: 20%;
  background-repeat: no-repeat;
  background-position: center;
}

.chat-area.friends-view-active .chat-header {
  border-bottom: none; /* Remove a linha do header nesta visualização */
}

/* Oculta a barra de input de texto quando não estiver em um chat */
.chat-area.friends-view-active .chat-input-bar {
  display: none;
}

/* --- ESTILO PARA O NOME DE USUÁRIO COM ID --- */
.user-tag {
  color: var(--text-muted);
  font-size: 12px;
}

.search-result-name span {
    font-weight: bold;
}
/* --- ESTILO PARA O NOME DE USUÁRIO COM ID (USER TAG) --- */
.user-tag {
  color: var(--text-muted);
  font-size: 12px;
  margin-left: 4px; 
  font-weight: normal;
}

.author-name, .search-result-name > span:first-child, .friend-item > span, .user-panel .username {
    font-weight: bold;
}
.avatar-container {
  position: relative;
  flex-shrink: 0;
}

.friend-item .avatar-container img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
}

.status-indicator {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--background-secondary);
}

.status-indicator.online {
  background-color: var(--green-accent);
}

.status-indicator.offline {
  background-color: var(--text-muted);
}

.friend-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.friend-info {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-grow: 1;
    cursor: pointer;
}

.friend-actions {
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
}

.friend-item:hover .friend-actions {
    visibility: visible;
    opacity: 1;
}

.remove-friend-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 16px;
    cursor: pointer;
    padding: 5px;
}

.remove-friend-btn:hover {
    color: var(--red-danger);
}

.remove-friend-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 16px;
    cursor: pointer;
    padding: 5px;
}

.remove-friend-btn:hover {
    color: var(--red-danger);
}

/* --- ESTILOS DE NOTIFICAÇÃO --- */
.server-icon {
    position: relative; /* Necessário para posicionar o badge */
}

.notification-badge {
    position: absolute;
    top: -2px;
    right: -2px;
    width: 12px;
    height: 12px;
    background-color: var(--red-danger);
    border-radius: 50%;
    border: 2px solid var(--background-tertiary);
    pointer-events: none; /* Garante que o clique vá para o ícone, não para o badge */
}

/* Container para as ações no rodapé do formulário de configurações (Sair, Excluir) */
.form-footer-actions {
  display: flex;
  justify-content: space-between; /* Alinha "Sair" e "Excluir" nas extremidades */
  align-items: center;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid var(--background-secondary);
}

/* Estilo para o link de "Excluir Conta" */
.delete-account-link {
  background: none;
  border: none;
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  color: var(--red-danger); /* Cor de perigo para a ação */
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.2s, color 0.2s;
}

.delete-account-link:hover {
  background-color: var(--red-danger);
  color: white;
  text-decoration: none;
}


/* --- Seção de confirmação de exclusão (que aparece após clicar) --- */
#delete-confirmation-container {
  display: none; /* Começa oculto */
  width: 100%;
  margin-top: 20px;
  padding: 16px;
  background-color: var(--background-tertiary);
  border-radius: 5px;
  border: 1px solid var(--red-danger);
}

#delete-confirmation-container p {
  margin: 0 0 12px 0;
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.4;
}

/* Container para o input de senha e o botão final */
.delete-input-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}

#delete-password-input {
  flex-grow: 1;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid var(--background-primary);
  background-color: var(--background-primary);
  color: var(--text-normal);
}

/* Botão final para confirmar a exclusão */
#confirm-delete-btn {
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    background-color: var(--red-danger);
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
}

#confirm-delete-btn:hover {
    background-color: var(--red-danger-hover);
}

/* --- Estilos do Modal de Perfil --- */

.modal-content.profile-modal {
    padding: 0;
    overflow: hidden;
    max-width: 500px;
    background-color: var(--background-tertiary);
}

.profile-modal-banner {
    width: 100%;
    height: 100px;
    background-color: var(--brand-experiment);
}

.profile-modal-header {
    position: relative;
    padding: 0 16px;
}

#profile-modal-avatar {
    width: 92px;
    height: 92px;
    border-radius: 50%;
    border: 6px solid var(--background-tertiary);
    position: absolute;
    top: -46px;
    background-color: var(--background-tertiary);
}

.profile-modal-body {
    padding: 60px 16px 16px 16px;
}

#profile-modal-name {
    font-size: 20px;
    color: var(--header-primary);
    margin: 0;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--background-secondary);
}

.profile-section {
    margin-top: 20px;
}

.profile-section h4 {
    color: var(--text-muted);
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    margin: 0 0 8px 0;
}

#profile-modal-bio {
    color: var(--text-normal);
    font-size: 14px;
    line-height: 1.5;
    margin: 0;
    white-space: pre-wrap;
}

.close-profile-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.3);
    border: none;
    color: white;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: pointer;
    font-weight: bold;
    line-height: 24px;
    text-align: center;
}

.view-profile-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 16px;
    cursor: pointer;
    padding: 5px;
}
.view-profile-btn:hover {
    color: var(--header-primary);
}

.friend-actions button {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 16px;
    cursor: pointer;
    padding: 5px;
    transition: color 0.2s;
}
.friend-actions .remove-friend-btn:hover {
    color: var(--red-danger);
}
.friend-actions .view-profile-btn:hover {
    color: var(--header-primary);
}
.member-info {
  display: flex;
  align-items: center;
  gap: 8px;
}

.member-icons {
  display: flex;
  align-items: center;
  gap: 8px;
}

.member-role-icon {
  font-size: 16px;
  color: var(--text-muted);
}

.member-role-icon.fa-crown {
  color: #f1c40f;
}

#group-settings-icon {
    color: var(--text-muted);
    cursor: pointer;
    font-size: 20px;
    transition: color 0.2s, transform 0.3s;
}

#group-settings-icon:hover {
    color: var(--header-primary);
    transform: rotate(45deg);
}

.profile-picture-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 24px;
    position: relative;
}

#edit-group-preview {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--background-tertiary);
    background-color: var(--background-primary);
}

.photo-upload-label {
    position: absolute;
    bottom: 0px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.6);
    color: white;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 12px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s;
    white-space: nowrap;
}

.profile-picture-container:hover .photo-upload-label {
    opacity: 1;
}

.photo-upload-input {
    display: none;
}

.modal-actions-footer {
    display: flex;
    justify-content: flex-end;
    margin-top: 24px;
}

.danger-zone {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid var(--background-secondary);
}

.danger-zone h4 {
    color: var(--red-danger);
    margin: 0 0 10px 0;
    text-transform: uppercase;
    font-size: 12px;
    font-weight: bold;
}

.danger-action {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-radius: 5px;
}

.danger-action .delete-btn {
    flex-shrink: 0;
}